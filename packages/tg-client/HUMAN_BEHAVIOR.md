# –ß–µ–ª–æ–≤–µ–∫–æ–ø–æ–¥–æ–±–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –±–æ—Ç–∞

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–µ—á–∞—Ç–∏ (typing indicator)

–ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–ø–µ—á–∞—Ç–∞–µ—Ç..." –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π —Å–æ–æ–±—â–µ–Ω–∏—è, –∫–∞–∫ –Ω–∞—Å—Ç–æ—è—â–∏–π —á–µ–ª–æ–≤–µ–∫:

```typescript
await client.call({
  _: "messages.setTyping",
  peer: await client.resolvePeer(message.chat.id),
  action: { _: "sendMessageTypingAction" },
});
```

### 2. –°–ª—É—á–∞–π–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏

–ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ, –∞ –¥–µ–ª–∞–µ—Ç –ø–∞—É–∑—ã:

- **–ß—Ç–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞**: 30–º—Å –Ω–∞ —Å–∏–º–≤–æ–ª (–¥–æ 2 —Å–µ–∫—É–Ω–¥)
- **–û–±–¥—É–º—ã–≤–∞–Ω–∏–µ**: 800-2000–º—Å —Å–ª—É—á–∞–π–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞
- **–ü—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ**: –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞—É–¥–∏–æ + 0-2 —Å–µ–∫—É–Ω–¥—ã

```typescript
// –ò–º–∏—Ç–∞—Ü–∏—è —á—Ç–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è
const readingTime = Math.min(messageText.length * 30, 2000);
await humanDelay(readingTime, readingTime + 1000);
```

### 3. –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è

–í–º–µ—Å—Ç–æ —Ñ–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ "–Ø –±–æ—Ç –¥–ª—è –æ–±—â–µ–Ω–∏—è —Å –∫–∞–Ω–¥–∏–¥–∞—Ç–∞–º–∏" –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∂–∏–≤—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:

- "–ü—Ä–∏–≤–µ—Ç, –ò–≤–∞–Ω! üëã"
- "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π!"
- "–ü—Ä–∏–≤–µ—Ç! –†–∞–¥ –∑–Ω–∞–∫–æ–º—Å—Ç–≤—É üòä"
- "–ó–¥–æ—Ä–æ–≤–æ! –ö–∞–∫ –¥–µ–ª–∞?"

**–ë–µ–∑ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è —Å–ª–æ–≤–∞ "–±–æ—Ç"** –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –¥–µ—Ç–∞–ª–µ–π (Chat ID, Username).

### 4. –†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ –æ—Ç–≤–µ—Ç–æ–≤

8 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –≥–æ–ª–æ—Å–æ–≤–æ–º —Ñ–æ—Ä–º–∞—Ç–µ:

- "–î–∞–≤–∞–π –ª—É—á—à–µ –≥–æ–ª–æ—Å–æ–º, —Ç–∞–∫ —É–¥–æ–±–Ω–µ–µ üé§"
- "–ó–∞–ø–∏—à–∏ –≥–æ–ª–æ—Å–æ–≤–æ–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞ üôè"
- "–ì–æ–ª–æ—Å–æ–º –±—É–¥–µ—Ç –ø—Ä–æ—â–µ, –º–æ–∂–µ—à—å –∑–∞–ø–∏—Å–∞—Ç—å?"
- "–õ—É—á—à–µ –≥–æ–ª–æ—Å–æ–º –æ—Ç–≤–µ—Ç—å, –æ–∫–µ–π? üòä"
- "–ú–Ω–µ —É–¥–æ–±–Ω–µ–µ –≥–æ–ª–æ—Å–æ–º, –µ—Å–ª–∏ –Ω–µ —Å–ª–æ–∂–Ω–æ"
- "–î–∞–≤–∞–π –≥–æ–ª–æ—Å–æ–º, –∞? –¢–∞–∫ –±—ã—Å—Ç—Ä–µ–µ"
- "–ó–∞–ø–∏—à–∏ –≥–æ–ª–æ—Å–æ–≤—É—Ö—É, –ø–ª–∏–∑"
- "–ú–æ–∂–µ—à—å –≥–æ–ª–æ—Å–æ–º? –¢–∞–∫ –ø–æ–Ω—è—Ç–Ω–µ–µ –±—É–¥–µ—Ç"

### 5. –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å –≥–æ–ª–æ—Å–æ–≤—ã–º:

- "–ù–µ —Ä–∞—Å—Å–ª—ã—à–∞–ª, –º–æ–∂–µ—à—å –ø–æ–≤—Ç–æ—Ä–∏—Ç—å?"
- "–ß—Ç–æ-—Ç–æ –Ω–µ —Ç–∞–∫ —Å –≥–æ–ª–æ—Å–æ–≤—ã–º, –ø–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑"
- "–ù–µ —Å–º–æ–≥ –ø—Ä–æ—Å–ª—É—à–∞—Ç—å, –∑–∞–ø–∏—à–∏ –∑–∞–Ω–æ–≤–æ?"
- "–•–º, –Ω–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å –ø–æ—Å–ª—É—à–∞—Ç—å. –ï—â–µ —Ä–∞–∑?"

### 6. –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è

–ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è "–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∞—É–¥–∏–æ":

```typescript
await client.call({
  _: "messages.setTyping",
  peer: await client.resolvePeer(message.chat.id),
  action: { _: "sendMessageRecordAudioAction" },
});
```

### 7. –û—Ç–ª–æ–∂–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –≥–æ–ª–æ—Å–æ–≤–æ–µ

–ë–æ—Ç **–Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç —Å—Ä–∞–∑—É** –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ. –û–Ω:

1. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è
2. "–°–ª—É—à–∞–µ—Ç" –≥–æ–ª–æ—Å–æ–≤–æ–µ (–∏–º–∏—Ç–∞—Ü–∏—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)
3. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –≤ Inngest
4. –û—Ç–≤–µ—Ç–∏—Ç –ø–æ–∑–∂–µ, –ø–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞

–≠—Ç–æ –¥–µ–ª–∞–µ—Ç –æ–±—â–µ–Ω–∏–µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º - –∫–∞–∫ –±—É–¥—Ç–æ —á–µ–ª–æ–≤–µ–∫ —Å–ª—É—à–∞–µ—Ç –∏ –æ–±–¥—É–º—ã–≤–∞–µ—Ç –æ—Ç–≤–µ—Ç.

### 8. –ù–µ—Ñ–æ—Ä–º–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å

- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —ç–º–æ–¥–∑–∏ üòä üé§ üôè
- –†–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–µ —Å–ª–æ–≤–∞: "–≥–æ–ª–æ—Å–æ–≤—É—Ö–∞", "–ø–ª–∏–∑", "–æ–∫–µ–π"
- –í–æ–ø—Ä–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–æ—Ä–º—ã –≤–º–µ—Å—Ç–æ –∫–æ–º–∞–Ω–¥
- –õ–∏—á–Ω—ã–µ –æ–±—Ä–∞—â–µ–Ω–∏—è –ø–æ –∏–º–µ–Ω–∏

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –§—É–Ω–∫—Ü–∏—è humanDelay

```typescript
async function humanDelay(minMs = 800, maxMs = 2000): Promise<void> {
  const delay = Math.floor(Math.random() * (maxMs - minMs + 1)) + minMs;
  await new Promise((resolve) => setTimeout(resolve, delay));
}
```

### –§—É–Ω–∫—Ü–∏—è randomChoice

```typescript
function randomChoice<T>(array: T[]): T {
  return array[Math.floor(Math.random() * array.length)] as T;
}
```

## –ß—Ç–æ –ù–ï –¥–µ–ª–∞–µ—Ç –±–æ—Ç

‚ùå –ù–µ —É–ø–æ–º–∏–Ω–∞–µ—Ç, —á—Ç–æ –æ–Ω –±–æ—Ç  
‚ùå –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ  
‚ùå –ù–µ –æ—Ç–≤–µ—á–∞–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ  
‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Ñ—Ä–∞–∑—ã  
‚ùå –ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∞–≤—Ç–æ–æ—Ç–≤–µ—Ç—ã –Ω–∞ –≥–æ–ª–æ—Å–æ–≤—ã–µ  

## –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç –ª–µ–≥–∫–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, —á—Ç–æ –æ–±—â–∞–µ—Ç—Å—è —Å –±–æ—Ç–æ–º:

- –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
- –ù–µ—Ñ–æ—Ä–º–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —à–∞–±–ª–æ–Ω–Ω–æ—Å—Ç–∏
